# 9. 컴포넌트 스타일링

2020-04-19

## 들어가기 전에

- 일반 CSS: 컴포넌트를 스타일링하는 가장 기본적인 방식
- Sass: 자주 사용되는 CSS 전처리기(pre-processor) 중 하나로 확장된 CSS 문법을 사용하여 CSS 코드를 더욱 쉽게 작성할 수 있도록 해줌
- CSS Module: 스타일을 작성할 때 CSS 클래스가 다른 CSS 클래스의 이름과 절대 충돌하지 않도록 파일마다 고유한 이름을 자동으로 생성해 주는 옵션
- styled-components: 스타일을 자바스크립트 파일에 내장시키는 방식으로 스타일을 작성함과 동시에 해당 스타일이 적용된 컴포넌트를 만들 수 있게 해줌

```bash
yarn create react-app styling-react
cd styling-react
yarn start
```

## 가장 흔한 방식, 일반 CSS

프로젝트는 일반 CSS 방식으로 만들어져 있다. 기존의 CSS 스타일링이 불편하지 않고(ex) 소규모 프로젝트) 새로운 기술을 배울 필요가 없다고 생각되면 기존 CSS를 계속 이용해도 상관 없다.

CSS 클래스를 중복되지 않게 만드는 것이 중요하다.

### 1. 이름을 지을 때 특별한 규칙을 사용하여 짓는다.

ex) {컴포넌트명}-{클래스명}

BEM 네이밍(BEM naming) 방식도 있다. 이는 CSS 방법론 중 하나로, 이름을 지을 때 일종의 규칙을 준수하여 해당 클래스가 어디에서 어떤 용도로 사용되는지 명확하게 작성하는 방식이다.

ex) .card\_\_title-primary

### 2. CSS Selector를 활용한다.

CSS Selector를 사용하면 CSS 클래스가 특정 클래스 내부에 있는 경우에만 스타일을 적용할 수 있다.

ex) .App 안에 있는 .logo에 스타일 적용하고 싶은 경우

```css
.App .logo {
  animation: App-logo-spin infinite 20s linear;
  height: 40vmin;
}
```

컴포넌트의 최상위 html 요소에는 컴포넌트의 이름으로 클래스 이름을 짓고(.App), 그 내부에는 소문자를 입력하거나(.logo), header 같은 태그를 사용하여 클래스 이름이 불필요한 경우에는 아예 생략할 수도 있다.

## Sass 사용하기

Sass(Syntactically Awesome Style Sheets; 문법적으로 매우 멋진 스타일시트)는 CSS 전처리기로 복잡한 작업을 쉽게 할 수 있도록 해 주고, 스타일 코드의 재활용성을 높여줄 뿐만 아니라 코드의 가독성도 높여서 유지 보수를 더욱 쉽게 해 준다.

create-react-app 구버전에서는 사용하려면 추가 작업이 필요했지만, v2 버전부터는 별도의 추가 설정 없이 바로 사용할 수 있다.

Sass에서는 확장자 .scss와 .sass를 지원한다. .scss와 .sass의 문법은 상이하다.

.sass

```css
$font-stack: Helvetica, sans-serif
$primary-color: #333

body
    font: 100% $font-stack
    color: $primary-color
```

.scss

```css
$font-stack: Helvetica, sans-serif;
$primary-color: #333;

body {
  font: 100% $font-stack;
  color: $primary-color;
}
```

.sass 확장자는 {}와 ;을 사용하지 않는다. .scss는 기존 CSS를 작성하는 방식과 비슷하다. 보통 .scss 문법이 더 자주 사용된다.

사용하려면 `node-sass`라는 라이브러리를 설치해 주어야 한다. 이 라이브러리는 Sass를 CSS로 변환해준다.

```bash
yarn add node-sass
```

여러 파일에서 사용할 수 있는 Sass 변수 및 믹스인은 다른 파일로 따로 분리하여 작성한 뒤 필요한 곳에서 쉽게 불러와 사용할 수 있다. 다른 scss 파일을 불러올 때는 @import 구문을 사용한다.

### sass-loader 설정 커스터마이징하기

@import 구문을 사용하여 불러오게 될 경우, 구조가 깊어지면 파일을 찾기 위해 한참 거슬러 올라가야 하는 단점이 있다.

이 문제점을 웹팩에서 Sass를 처리하는 sass-loader의 설정을 커스터마이징하여 해결할 수 있다. create-react-app으로 만든 프로젝트는 프로젝트 구조의 복잡도를 낮추기 위해 세부 설정이 모두 숨겨져 있는데, 이를 커스터마이징 하기 위해서는 프로젝트 디렉터리에서 세부 설정을 밖으로 꺼내줘야 한다.

```bash
yarn eject
```

yarn eject는 아직 Git에 커밋되지 않은 변화가 있다면 진행되지 않으므로 먼저 커밋해줘야 한다.

```bash
git add .
git commit -m "Commit before yarn eject"

yarn eject
```

성공했다면 프로젝트 디렉터리에 config라는 디렉터리가 생성된다.

(yarn eject 이후 개발 서버가 시작되지 않는 경우, 프로젝트 디렉터리의 node_modules 디렉터리를 삭제한 후, yarn install 명령어를 실행하고 yarn start를 해주면 된다.)

config/webpack.config.js를 열어서 "sassRegex" 키워드를 찾은 후 커스터마이징 한다.

### node_modules에서 라이브러리 불러오기

Sass의 장점 중 하나는 라이브러리를 쉽게 불러와서 사용할 수 있다는 점인데, yarn을 통해 설치한 라이브러리를 사용하는 가장 기본적인 방법은 상대 경로를 사용하여 node_modules까지 들어가서 불러오는 방법이다.

```css
@import "../../../node_modules/library/styles";
```

그러나 이런 구조는 스타일 파일이 깊숙한 디렉터리에 있는 경우 ../를 많이 적어야 해서 번거롭다. 이럴 땐 ~를 사용해서 불러올 수 있다.

```css
@import "~library/styles";
```

~ 사용 시 자동으로 node_modules에서 라이브러리 디렉터리를 탐지하여 스타일을 불러올 수 있다.

### 유용한 Sass 라이브러리 예제

- 반응형 디자인 쉽게 만들어주는 include-media <https://include-media.com/>
- 편리한 색상 팔레트 open-color <https://www.npmjs.com/package/open-color>

```bash
yarn add open-color include-media
```

Sass 라이브러리를 불러올 때는 node_modules 내부 라이브러리 경로 안에 들어 있는 scss 파일을 불러와야 한다. 보통 scss 파일 경로가 어디에 위치하고 있는지를 라이브러리의 공식 매뉴얼에서 알려주지 않을 때가 많으니, 직접 들어가서 확인하는 것이 좋다.

## CSS Module

## styled-components

## 정리
